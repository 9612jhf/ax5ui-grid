"use strict";!function(a,t){var e,i=ax5.util,d=function(){var d;t&&t.call(this),this.name="ax5grid",this.version="0.0.2",this.config={clickEventName:"click",theme:"default",animateTime:250,frozenColumnIndex:0,frozenRowIndex:0},d=this.config;var n=function(){var a={instanceId:this.id};return this.$target.html(e.tmpl.get("main",a)),this.$={container:{header:this.$target.find('[data-ax5grid-container="header"]'),body:this.$target.find('[data-ax5grid-container="body"]')},panel:{"aside-header":this.$target.find('[data-ax5grid-panel="aside-header"]'),"left-header":this.$target.find('[data-ax5grid-panel="left-header"]'),header:this.$target.find('[data-ax5grid-panel="header"]'),"right-header":this.$target.find('[data-ax5grid-panel="right-header"]'),"top-aside-body":this.$target.find('[data-ax5grid-panel="top-aside-body"]'),"top-left-body":this.$target.find('[data-ax5grid-panel="top-left-body"]'),"top-body":this.$target.find('[data-ax5grid-panel="top-body"]'),"top-right-body":this.$target.find('[data-ax5grid-panel="rop-right-body"]'),"aside-body":this.$target.find('[data-ax5grid-panel="aside-body"]'),"left-body":this.$target.find('[data-ax5grid-panel="left-body"]'),body:this.$target.find('[data-ax5grid-panel="body"]'),"right-body":this.$target.find('[data-ax5grid-panel="right-body"]'),"bottom-aside-body":this.$target.find('[data-ax5grid-panel="bottom-aside-body"]'),"bottom-left-body":this.$target.find('[data-ax5grid-panel="bottom-left-body"]'),"bottom-body":this.$target.find('[data-ax5grid-panel="bottom-body"]'),"bottom-right-body":this.$target.find('[data-ax5grid-panel="bottom-right-body"]')}},this},r=function(a){return this.columns=i.deepCopy(a),this};this.init=function(a){this.onStateChanged=d.onStateChanged,this.onClick=d.onClick;var t=this.gridConfig=jQuery.extend(!0,{},d,a);return t.target?(this.$target=jQuery(t.target),this.id||(this.id=this.$target.data("data-ax5grid-id")),this.id||(this.id="ax5grid-"+ax5.getGuid(),this.$target.data("data-ax5grid-id",t.id)),function(a){i.isObject(a)&&!a.error&&(t=jQuery.extend(!0,t,a))}(i.parseJson(this.$target.attr("data-ax5grid-config"),!0)),n.call(this),r.call(this,t.columns),e.header.init.call(this),void e.header.repaint.call(this)):(console.log(ax5.info.getError("ax5grid","401","init")),this)},this.align=function(){return this},this.main=function(){a.grid_instance=a.grid_instance||[],a.grid_instance.push(this),arguments&&i.isObject(arguments[0])&&this.setConfig(arguments[0])}.apply(this,arguments)};e=a.grid=function(){return i.isFunction(t)&&(d.prototype=new t),d}()}(ax5.ui,ax5.ui.root),function(a){var t=function(){};a.body={init:t}}(ax5.ui.grid),function(a){a.data={}}(ax5.ui.grid),function(a){var t=function(){this.headerTable={},this.leftHeaderData={},this.headerData={},this.rightHeaderData={},this.headerTable=e.call(this,this.columns)},e=function(a){var t={rows:[]},e=0,i=function d(a,i,n){for(var r={cols:[]},o=0,s=a.length;s>o;o++){var l=a[o],h=1;l.hidden?console.log("hh"):(l.colspan=1,l.rowspan=1,l.rowIndex=i,l.colIndex=function(){return n?(e=n.colIndex+o+1,n.colIndex+o):e++}(),r.cols.push(l),"columns"in l&&(h=d(l.columns,i+1,l)),l.colspan=h)}return r.cols.length>0?(t.rows[i]||(t.rows[i]={cols:[]}),t.rows[i].cols=t.rows[i].cols.concat(r.cols),r.cols.length-1+h):h};return i(a,0),function(){for(var a=0,e=t.rows.length;e>a;a++)for(var i=t.rows[a],d=0,n=i.cols.length;n>d;d++){var r=i.cols[d];"columns"in r||(r.rowspan=e-a)}}(),t},i=function(a,t){for(var e={rows:[]},i={rows:[]},d=0,n=a.rows.length;n>d;d++){var r=a.rows[d];e.rows[d]={cols:[]},i.rows[d]={cols:[]};for(var o=0,s=r.cols.length;s>o;o++){var l=jQuery.extend({},r.cols[o]),h=l.colIndex,g=l.colIndex+l.colspan;if(t>h)if(t>=g)e.rows[d].cols.push(l);else{var c=jQuery.extend({},l),p=jQuery.extend({},c);c.colspan=t-c.colIndex,p.colIndex=t,p.colspan=l.colspan-c.colspan,e.rows[d].cols.push(c),i.rows[d].cols.push(p)}else i.rows[d].cols.push(l)}}return{leftHeaderData:e,headerData:i}},d=function(){var t=i(this.headerTable,this.config.frozenColumnIndex);this.leftHeaderData=t.leftHeaderData,this.headerData=t.headerData,this.$.panel["left-header"].html(a.tmpl.get("left-header",{table:this.leftHeaderData})),this.$.panel.header.html(a.tmpl.get("header",{table:this.headerData})),this.$.panel["right-header"].html(a.tmpl.get("right-header",{table:this.rightHeaderData}))};a.header={init:t,divideHeader:i,repaint:d}}(ax5.ui.grid),function(a){var t=function(){};a.scroller={init:t}}(ax5.ui.grid),function(a){var t='<div data-ax5grid-container="root" data-ax5grid-instance="{{instanceId}}">\n            <div data-ax5grid-container="header">\n                <div data-ax5grid-panel="aside-header"></div>\n                <div data-ax5grid-panel="left-header"></div>\n                <div data-ax5grid-panel="header"></div>\n                <div data-ax5grid-panel="right-header"></div>\n            </div>\n            <div data-ax5grid-container="body">\n                <div data-ax5grid-panel="top-aside-body"></div>\n                <div data-ax5grid-panel="top-left-body"></div>\n                <div data-ax5grid-panel="top-body"></div>\n                <div data-ax5grid-panel="top-right-body"></div>\n                <div data-ax5grid-panel="aside-body"></div>\n                <div data-ax5grid-panel="left-body"></div>\n                <div data-ax5grid-panel="body"></div>\n                <div data-ax5grid-panel="right-body"></div>\n                <div data-ax5grid-panel="bottom-aside-body"></div>\n                <div data-ax5grid-panel="bottom-left-body"></div>\n                <div data-ax5grid-panel="bottom-body"></div>\n                <div data-ax5grid-panel="bottom-right-body"></div>\n            </div>\n        </div>',e='<table border="1" style="">\n            {{#table.rows}}\n            <tr>\n                {{#cols}}\n                <td colspan="{{colspan}}" rowspan="{{rowspan}}">{{{label}}}</td>\n                {{/cols}}\n            </tr>\n            {{/table.rows}}\n        </table>\n        ',i='<table border="1" style="">\n            {{#table.rows}}\n            <tr>\n                {{#cols}}\n                <td colspan="{{colspan}}" rowspan="{{rowspan}}">{{{label}}}</td>\n                {{/cols}}\n            </tr>\n            {{/table.rows}}\n        </table>\n        ',d="",n="";a.tmpl={main:t,header:e,"left-header":i,"right-header":d,body:n,get:function(t,e){return ax5.mustache.render(a.tmpl[t],e)}}}(ax5.ui.grid);
// mixins

@mixin gridColumn() {
    td {
        &.isLastColumn {

        }
        &.lineNumberColumn {

        }
    }
    [data-ax5grid-column-attr="rowSelector"] {
        cursor: pointer;
        [data-ax5grid-cellHolder] {
            padding: 5px;
        }
        //todo : checkBox CSS 구현
        .checkBox {
            $ax5grid-row-selector-checkbox-size: 8px;
            $ax5grid-row-selector-size: 10px;
            display: block;
            position: relative;
            border: 1px solid #ccc;
            border-radius: 3px;
            @include ax-background(top, #FFFFFF, #F0F0F0);
            height: 100%;
            &:after {
                content: '';
                width: 60%;
                height: 40%;
                position: absolute;
                top: 20%;
                right: 20%;
                border: 0.2em solid #000;
                border-top: none;
                border-right: none;
                background: transparent;
                opacity: 0.0;
                @include transform(rotate(-50deg));
            }
        }
    }
    [data-ax5grid-selected="true"] {
        .checkBox {
            &:after {
                opacity: 1;
            }
        }
    }
}

@mixin gridRowBackground() {
    &.tr-0 {
    }
    &.tr-1 {
        background: #f3f3f3;
    }
    &.tr-2 {
    }
    &.tr-3 {
        background: #f3f3f3;
    }
    &[data-ax5grid-selected="true"] {
        background: #cce2f3;
    }
}

@mixin gridPanel($container) {
    [data-ax5grid-panel] {
        position: absolute;
        overflow: hidden;

        table {
            table-layout: fixed;
            border-collapse: separate;
            border-spacing: 0;
            border: 0 none;
            width: 100%;
            @if ($container == "header") {
                height: 100%;
            }
            tr {
                border-bottom: 0 none;
                @include gridRowBackground();
            }
            td {
                box-sizing: border-box;
                overflow: hidden;
                position: relative;
                padding: 0;
                font-size: 10px;
                border: 0 none;
                &.hasBorder {
                    border-right: 1px solid #ccc;
                    border-bottom: 1px solid #ccc;
                }
                &[data-ax5grid-column-row="null"] {
                    border-right: 0 none;
                }
                [data-ax5grid-cellHolder] {
                    // 그리드 셀표현 : 그리드의 컬럼텍스트가 여기에 출력됨
                    display: block;
                    box-sizing: border-box;
                    padding: 3px;
                    font-size: 12px;

                    white-space: nowrap;
                    overflow: hidden;
                    text-overflow: ellipsis;

                    @if ($container == "header") {
                        text-align: center;
                    }

                    &[data-ax5grid-cellHolder="multiLine"] {
                        white-space: normal;
                    }
                }
            }
            @include gridColumn();
        }

        &[data-ax5grid-panel="aside-header"] {
            border-right: 1px solid darken(#ccc, 0%);
            table {
                tr {
                    td {
                        text-align: center;
                    }
                }
            }
        }
        &[data-ax5grid-panel="top-aside-body"],
        &[data-ax5grid-panel="aside-body"],
        &[data-ax5grid-panel="bottom-aside-body"] {
            border-right: 1px solid darken(#ccc, 0%);
            background: #f2f2f2;
            table {
                tr {
                    td {
                        text-align: center;
                    }
                }
            }
        }

        &[data-ax5grid-panel="left-header"],
        &[data-ax5grid-panel="top-left-body"],
        &[data-ax5grid-panel="left-body"],
        &[data-ax5grid-panel="bottom-left-body"] {
            border-right: 1px solid darken(#ccc, 10%); /// frozen Line color
        }

        &[data-ax5grid-panel="top-aside-body"],
        &[data-ax5grid-panel="top-left-body"],
        &[data-ax5grid-panel="top-body"],
        &[data-ax5grid-panel="top-right-body"] {
            border-bottom: 1px solid darken(#ccc, 10%); /// frozen Line color
        }

        [data-ax5grid-panel-scroll] {
            position: absolute;
            left: 0;
            top: 0;
        }
    }
}

@mixin scrollBar($type) {
    position: absolute;
    top: 0;
    left: 0;
    @include border-top-radius(10px);
    @include border-bottom-radius(10px);
    background: #000;
    opacity: 0.3;

    @if ($type == "vertical-bar") {
        cursor: ns-resize;
    } @else {
        cursor: ew-resize;
    }

    &:hover {
        opacity: 0.6;
    }
}

// body
[data-ax5grid] {
    [data-ax5grid-container="root"] {
        position: relative;
        border: 1px solid #ccc;
        [data-ax5grid-container="header"] {
            position: relative;
            overflow: hidden;
            @include ax-background(top, #FFFFFF, #F0F0F0);
            border-bottom: 1px solid #ccc;
            @include gridPanel("header");
        }

        [data-ax5grid-container="body"] {
            position: relative;
            overflow: hidden;
            @include gridPanel("body");
        }

        [data-ax5grid-container="scroller"] {
            position: absolute;
            right: 0px;
            bottom: 0px;

            $scroller-size: 15px;
            [data-ax5grid-scroller="vertical"] {
                box-sizing: border-box;
                position: absolute;
                display: none;
                right: 0;
                bottom: 0;
                width: $scroller-size;
                height: 100%;
                background: #f3f3f3;
                border-left: 1px solid #ccc;

                [data-ax5grid-scroller="vertical-bar"] {
                    @include scrollBar("vertical-bar");
                }
            }
            [data-ax5grid-scroller="horizontal"] {
                box-sizing: border-box;
                position: absolute;
                display: none;
                right: 0;
                bottom: 0;
                height: $scroller-size;
                width: 100%;
                background: #f3f3f3;
                border-top: 1px solid #ccc;

                [data-ax5grid-scroller="horizontal-bar"] {
                    @include scrollBar("horizontal-bar");
                }
            }
            [data-ax5grid-scroller="corner"] {
                position: absolute;
                display: none;
                right: 0px;
                bottom: 0px;
                width: $scroller-size;
                height: $scroller-size;

                background: #fff;
                border-top: 1px solid #ccc;
                border-left: 1px solid #ccc;
            }
        }
    }
}